---
- name: Test Rancher Role
  hosts: all
  become: true

  roles:
    - role: "{{ playbook_dir }}"

  post_tasks:
    - name: Display Rancher access information
      ansible.builtin.debug:
        msg:
          - "======================================================="
          - "âœ“ Rancher deployment test completed!"
          - ""
          - "Access Rancher from your browser:"
          - >-
            URL: https://{{ rancher_public_ip |
            default(ansible_all_ipv4_addresses |
            select('match', '^192\\.168\\.') | first) }}:8443
          - ""
          - "Login credentials:"
          - "  Username: admin"
          - "  Password: {{ rancher_bootstrap_password }}"
          - ""
          - "Note: Accept the self-signed certificate in your browser"
          - "======================================================="
